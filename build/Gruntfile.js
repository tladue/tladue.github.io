module.exports = function(grunt) {
	grunt.initConfig({
		pkg: grunt.file.readJSON('package.json'),
		watch: {
		  scripts: {
		    files: ['../js/base.js', '../js/grunts/*.js'],
		    tasks: ['jshint', 'concat', 'rename', 'uglify', 'usebanner:js'],
		    options: {
		      livereload: true,
		    }
		  },
		  css: {
		    files: ['../sass/*.scss', '../sass/plugins/*.scss', '../sass/sections/*.scss', '../sass/modules/*.scss', '../sass/layout/*.scss'],
		    tasks: ['sass', 'autoprefixer', 'copy', 'cmq', 'cssmin', 'usebanner:css'],
		    options: {
		      livereload: true,
		    }
		  }
		},
		sass: {
			dist: {
				files: {
					'../css/main.compiled.css': '../sass/main.scss'
				}
			} 
		},
		autoprefixer: {
			options: {
			  browsers: ['last 5 versions', 'ie 8', 'ie 9'],
			  remove: false
			},
            dist: {
                files: {
                    '../css/main.compiled.css': '../css/main.compiled.css'
                }
            }
        },
		copy: {
			main: {
				src: '../css/main.compiled.css',
				dest: '../css/main.compiled.min.css'
			}
		},
		cmq: {
			dist: {
				files: {
					'../css/main.compiled.css': '../css/main.compiled.css'
				}
			}
		},
		cssmin: {
		  minify: {
		    expand: true,
		    src: '../css/main.compiled.css',
		    dest: '../css/',
		    ext: '.compiled.min.css'
		  }
		},
		jshint: {
		    options: {
		      curly: true,
		      eqeqeq: true,
		      eqnull: true,
		      browser: true,
		      globals: {
		        jQuery: true
		      },
		    },
		    uses_defaults: ['../js/base.js']
		},
		concat: {
			grunts: {
				src: ['../js/grunts/moment.js', '../js/grunts/*.js', '../js/base.js'],
				dest: '../js/grunts.compiled.js'
			}
		},
		rename: {
		  main: {
		    files: [
		        {src: '../js/grunts.compiled.js', dest: '../js/main.compiled.js'},
		        ]
		  }
		},
		uglify: {
		    grunts: {
		      files: {
		        '../js/main.compiled.min.js': '../js/main.compiled.js'
		      }
		    }
		},
		usebanner: {
		    css: {
		      options: {
		        position: 'top',
		        banner: '\/*# sourceMappingURL=main.compiled.css.map *\/'
		      },
		    },
		    js: {
		      options: {
		        position: 'top',
		        banner: '\/* !!!!! DO NOT EDIT THIS FILE DIRECTLY !!!!! *\/'
		      },
		      files: {
		        src: [ '../js/main.compiled.js', '../js/main.compiled.min.js' ]
		      }
		    }
		}
	});

	grunt.loadNpmTasks('grunt-contrib-sass');
	grunt.loadNpmTasks('grunt-contrib-jshint');
	grunt.loadNpmTasks('grunt-contrib-watch');
	grunt.loadNpmTasks('grunt-contrib-cssmin');
	grunt.loadNpmTasks('grunt-contrib-concat');
	grunt.loadNpmTasks('grunt-contrib-uglify');
	grunt.loadNpmTasks('grunt-banner');
	grunt.loadNpmTasks('grunt-autoprefixer');
	grunt.loadNpmTasks('grunt-combine-media-queries');
	grunt.loadNpmTasks('grunt-contrib-copy');
	grunt.loadNpmTasks('grunt-contrib-rename');

};